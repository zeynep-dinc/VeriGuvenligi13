using System;
namespace VeriGuvenligi13
{
    class Birlestirme
    {
        public string birlestirme(string gelen,string date)
        {
            Sifreleme sifreleme = new Sifreleme();//şifrelemedeki alfabeye göre değerler gidip gelsin diye oluşturduk nesneyi
            gelen = sifreleme.sifreleme(gelen);
            date = sifreleme.sifreleme(date);
            //nesneden gelen ve date'leri kendi alfabeme göre düzenledim
            string sonhali="";
            int j = date.Length;//zamanı 22 karakterlik aldım kendi alfabemde 88 karaktere denk geliyor şifre maksimum 16 karakter girilebileceği için zamana göre oluşturdum
            int k = 0;//sayaç1
            int l = 0;//sayaç2
            int[] gelenDeger = new int[j];
            int[] dateDeger = new int[j];
            foreach (byte a in gelen)
                {
                //gelen değeri şifrelenmiş haliyle byte byte ayırdık aynı işlem zaman(date) içinde yapılacak
                if (gelen != null)
                    gelenDeger[k] = a;
                else gelenDeger[k] = 0;
                    k++;
                }
                foreach(byte a in date)
                {
                    dateDeger[l] = a;
                    l++;
                }
            int[] sonuc = new int[j];
            for(int n = 0; n < 10; n++)
            {
            for (int m = 0; m < j; m++)
                {
                    dateDeger[m] = gelenDeger[m] >> n; //keyi şifreyi kaydırarak değiştiriyorum sürekli                                                              //date göre olma sebebi date her durumda gelenden uzun olacak bu da içinde null değeri olmamasını sağlayacak
                    gelenDeger[m] = gelenDeger[m] % (int)Math.Pow(2, dateDeger[m]);//gelen(şifre) dizisinin her bir karakteri zaman(date) dizinin her bir elemanına göre modu alınıyor
                    sonuc[m] = dateDeger[m] ^ gelenDeger[m];//xor işlemi
                    sonhali = sonhali + sonuc[m];//sonuç çok uzun olacağı için string türünde tuttum
                }
            }
            return sonhali;
            }
    }
}

// n= 2-> gelen.leenght 8=358 000000000000000000000000000000000000000000000000000000000000000083899580839580808372869583869275839580808383858080859283809092908383858080958372809085858389958083728695809085858386927583869275245235225240245225240240245216250225245250228221245225240240245245255240240255228245240238228238245245255240240225245216240238255255245235225240245216250225240238255255245250228221245250228221
//n=3 için 193 000000000000000000000000000000000000000000000000000000000000000083899580839580808372869583869275839580808383858080859283809092908383858080958372809085858389958083899580809085858372869580958372
//n=20->6783 karakter 
//ortalama 10 olarak aldım n'yi ortalama 2177 karakter çıktı veriyor  0000000000000000000000000000000000000000000000000000000000000000838995808395808083728695838692758395808083838580808592838090929083838580809583728090858583728695838995808090858583728695838385802452352252402452252402402452162502252452502282212452252402402452452552402402552282452402382282382452452552402402252452162402382552552452162502252452352252402402382552552452162502252452452552404413994134324414134324324415044184134414184044974414134324324414414274324324274044414323904043904414414274324324134415044323904274274415044184134413994134324323904274274415044184134414414274328018398698168018698168168019527868698017868849378018698168168018017718168167718848018168548848548018017718168168698019528168547717718019527868698018398698168168547717718019527868698018017718161553175116851584155316851584158415531848165016851553165017161817155316851584158415531553161915841584161917161553158417821716178215531553161915841584168515531848158417821619161915531848165016851553175116851584158417821619161915531848165016851553155316191584318535753445312031853445312031203185364032503445318532503380370531853445312031203185318533153120312033153380318531203510338035103185318533153120312034453185364031203510331533153185364032503445318535753445312031203510331533153185364032503445318531853315312063217095683761926321683761926192632172246450683763216450670873536321683761926192632163216579619261926579670863216192696667086966632163216579619261926837632172246192696665796579632172246450683763217095683761926192696665796579632172246450683763216321657961921259314135136211233612593136211233612336125931439212850136211259312850133641464912593136211233612336125931259313107123361233613107133641259312336138781336413878125931259313107123361233613621125931439212336138781310713107125931439212850136211259314135136211233612336138781310713107125931439212850136211259312593131071233625137282152718924624251372718924624246242513728728256502718925137256502667629241251372718924624246242513725137261632462424624261632667625137246242770226676277022513725137261632462424624271892513728728246242770226163261632513728728256502718925137282152718924624246242770226163261632513728728256502718925137251372616324624
